(function(){"use strict";var t={4309:function(t,e,n){var s=n(2856),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"blue-sphere"}),e("div",{staticClass:"container"},[e("router-link",{attrs:{to:"/students"}},[t._v("学生名单")]),t._v("  "),e("router-link",{attrs:{to:"/"}},[t._v("开始抽选")]),t._v("  "),e("router-link",{attrs:{to:"/history"}},[t._v("抽中历史")]),t._v("  ")],1),e("router-view"),e("h3",{staticClass:"authorship"},[t._v("Betty·Sequoia")])],1)])},i=[],o={name:"App"},a=o,l=n(1656),u=(0,l.A)(a,r,i,!1,null,null,null),c=u.exports,h=n(1594),d=function(){var t=this,e=t._self._c;return e("div",[e("br"),e("button",{staticClass:"btn",attrs:{disabled:t.isRolling},on:{click:t.pickRandom}},[t._v(t._s(t.isRolling?"抽选中":"开始抽选"))]),t.selected?e("h3",[t._v("🎉抽中："+t._s(t.selected))]):t._e()])},p=[],v=(n(4114),n(8111),n(2489),{data(){return{students:[],history:[],selected:"",isRolling:!1}},mounted(){this.load()},methods:{load(){this.students=JSON.parse(localStorage.getItem("students")||"[]"),this.history=JSON.parse(localStorage.getItem("history")||"[]")},pickRandom(){if(this.isRolling)return;const t=this.students.filter(t=>!this.history.includes(t));0!==t.length?(this.isRolling=!0,this.rollTimer=setInterval(()=>{const e=t[Math.floor(Math.random()*t.length)];this.selected=e},100),setTimeout(()=>{clearInterval(this.rollTimer);const e=Math.floor(Math.random()*t.length),n=t[e];this.selected=n,this.history.push(n),localStorage.setItem("history",JSON.stringify(this.history)),this.isRolling=!1},2e3)):this.selected="所有学生都抽过了"}}}),f=v,m=(0,l.A)(f,d,p,!1,null,"3c250c68",null),g=m.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h2",[t._v("上传学生名单")]),e("div",{staticClass:"left"},[e("div",{staticClass:"icon-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newStudent,expression:"newStudent"}],attrs:{type:"text",placeholder:"请输入学生姓名"},domProps:{value:t.newStudent},on:{input:function(e){e.target.composing||(t.newStudent=e.target.value)}}}),e("button",{staticClass:"btn",on:{click:t.addStudent}},[t._v("添加")])]),e("br"),e("br"),e("div",{staticClass:"middle"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.batchInput,expression:"batchInput"}],attrs:{placeholder:"每行一个姓名",rows:"5",cols:"30"},domProps:{value:t.batchInput},on:{input:function(e){e.target.composing||(t.batchInput=e.target.value)}}}),e("br"),e("button",{on:{click:t.addBatch}},[t._v("批量添加")])]),e("input",{attrs:{type:"file",accept:".xls,.xlsx"},on:{change:t.importExcel}})]),e("hr"),e("div",{staticClass:"right"},[e("ul",t._l(t.students,function(n,s){return e("li",{key:s},[t._v(" "+t._s(n)+" "),e("button",{on:{click:function(e){return t.remove(s)}}},[t._v("删除")])])}),0),e("button",{on:{click:t.clearAllNames}},[t._v("清空")])])])},_=[],b=(n(1701),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(9577),n(2116)),S={data(){return{newStudent:"",batchInput:"",students:JSON.parse(localStorage.getItem("students")||"[]")}},methods:{addStudent(){this.newStudent.trim()&&(this.students.push(this.newStudent.trim()),this.newStudent="",this.save())},addBatch(){const t=this.batchInput.split("\n").map(t=>t.trim()).filter(t=>""!==t);this.students.push(...t),this.batchInput="",this.save()},remove(t){this.students.splice(t,1),this.save()},save(){localStorage.setItem("students",JSON.stringify(this.students))},importExcel(t){const e=t.target.files[0];if(!e)return alert("请上传excel文件");const n=new FileReader;n.onload=t=>{const e=new Uint8Array(t.target.result),n=b.LF(e,{type:"array"}),s=n.SheetNames[0],r=n.Sheets[s],i=b.Wp.sheet_to_json(r,{header:1}),o=i.filter(t=>Array.isArray(t)&&t.length>0).map(t=>t[0]).filter(t=>"string"===typeof t&&""!==t.trim());this.students=Array.from(new Set(this.students.concat(o))),this.save(),alert(`成功导入${o.length}个学生`)},n.readAsArrayBuffer(e)},clearAllNames(){this.students=[],this.save()}}},w=S,k=(0,l.A)(w,y,_,!1,null,"7231cbd2",null),x=k.exports,A=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("选中历史")]),e("ul",t._l(t.history,function(n,s){return e("li",{key:s},[t._v(t._s(n))])}),0),e("button",{on:{click:t.reset}},[t._v("重置记录")])])},O=[],I={data(){return{history:JSON.parse(localStorage.getItem("history")||"[]")}},methods:{reset(){confirm("确定要重置吗？")&&(localStorage.removeItem("history"),this.history=[])}}},C=I,N=(0,l.A)(C,A,O,!1,null,"316c2a08",null),R=N.exports;s.Ay.use(h.Ay);var j=new h.Ay({routes:[{path:"/",component:g},{path:"/students",component:x},{path:"/history",component:R}]});s.Ay.config.productionTip=!1,new s.Ay({router:j,render:t=>t(c)}).$mount("#app")}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,s,r,i){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],r=t[c][1],i=t[c][2];for(var a=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every(function(t){return n.O[t](s[l])})?s.splice(l--,1):(a=!1,i<o&&(o=i));if(a){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,o=s[0],a=s[1],l=s[2],u=0;if(o.some(function(e){return 0!==t[e]})){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(e&&e(s);u<o.length;u++)i=o[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(c)},s=self["webpackChunkstudent_picker"]=self["webpackChunkstudent_picker"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],function(){return n(4309)});s=n.O(s)})();
//# sourceMappingURL=app.c3170d48.js.map